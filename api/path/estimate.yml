/accounts/{accountId}/estimations:
  parameters:
    - $ref: "../parameter/account.yml#/accountId"
  post:
    tags: [Estimates]
    summary: Create estimation
    operationId: createEstimation
    requestBody:
      required: true
      content:
        application/json:
          schema: { $ref: "../schema/estimate.yml#/estimation" }
    responses:
      "201":
        description: Created
      "405":
        description: "Invalid input"
    security:
      - rivet_auth: [read, write]
/accounts/{accountId}/estimation/{estimationId}:
  parameters:
    - $ref: "../parameter/account.yml#/accountId"
    - $ref: "../parameter/estimate.yml#/estimationId"
  get:
    tags: [Estimates]
    description: Get an estimation.
    operationId: getEstimation
    responses:
    summary: Get estimation
    responses:
      "200":
        description: Success.
        content:
          application/json:
            schema: { $ref: "../schema/estimate.yml#/estimation" }
      "400":
        description: Invalid ID supplied
      "404":
        description: Estimation does not exist
  security:
    - rivet_auth: [read]
/accounts/{accountId}/estimation/{estimationId}/estimate:
  parameters:
    - $ref: "../parameter/account.yml#/accountId"
    - $ref: "../parameter/estimate.yml#/estimationId"
  get:
    operationId: getEstimate
    responses:
      "200":
        description: Success.
        content:
          application/json:
            schema: { $ref: "../schema/estimate.yml#/estimate" }
    security:
      - rivet_auth: [read]
    summary: Get estimate result
    tags: [Estimates]
/accounts/{accountId}/estimation/{estimationId}/doc:
  parameters:
    - $ref: "../parameter/account.yml#/accountId"
    - $ref: "../parameter/estimate.yml#/estimationId"
  get:
    operationId: getEstimateDoc
    descripton: Get estimation document.
    responses:
      "200":
        description: Success.
        content:
          application/pdf: {}
    security:
      - rivet_auth: [read]
    summary: Get estimate document
    tags: [Estimates]
